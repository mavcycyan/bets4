function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=a($||require("jquery")):a(jQuery)}(function(z){"use strict";function b(a,b){this.element=a,this.options=z.extend({},c,b);var d=this.options.locale;void 0!==this.options.locales[d]&&z.extend(this.options,this.options.locales[d]),this.init()}function e(b){if(!z(b.target).parents().hasClass("jq-selectbox")&&"OPTION"!=b.target.nodeName&&z("div.jq-selectbox.opened").length){var c=z("div.jq-selectbox.opened"),d=z("div.jq-selectbox__search input",c),e=z("div.jq-selectbox__dropdown",c);c.find("select").data("_"+a).options.onSelectClosed.call(c),d.length&&d.val("").keyup(),e.hide().find("li.sel").addClass("selected"),c.removeClass("focused opened dropup dropdown")}}var a="styler",c={idSuffix:"-styler",filePlaceholder:"\u0424\u0430\u0439\u043B \u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D",fileBrowse:"\u041E\u0431\u0437\u043E\u0440...",fileNumber:"\u0412\u044B\u0431\u0440\u0430\u043D\u043E \u0444\u0430\u0439\u043B\u043E\u0432: %s",selectPlaceholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"\u0421\u043E\u0432\u043F\u0430\u0434\u0435\u043D\u0438\u0439 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",selectSearchPlaceholder:"\u041F\u043E\u0438\u0441\u043A...",selectVisibleOptions:0,selectSmartPositioning:!0,locale:"ru",locales:{en:{filePlaceholder:"No file selected",fileBrowse:"Browse...",fileNumber:"Selected files: %s",selectPlaceholder:"Select...",selectSearchNotFound:"No matches found",selectSearchPlaceholder:"Search..."}},onSelectOpened:function onSelectOpened(){},onSelectClosed:function onSelectClosed(){},onFormStyled:function onFormStyled(){}};b.prototype={init:function init(){function B(){void 0!==E.attr("id")&&""!==E.attr("id")&&(this.id=E.attr("id")+F.idSuffix),this.title=E.attr("title"),this.classes=E.attr("class"),this.data=E.data()}var E=z(this.element),F=this.options,i=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i),b=navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i);if(E.is(":checkbox")){var a=function(){var a=new B,b=z("<div class=\"jq-checkbox\"><div class=\"jq-checkbox__div\"></div></div>").attr({id:a.id,title:a.title}).addClass(a.classes).data(a.data);E.after(b).prependTo(b),E.is(":checked")&&b.addClass("checked"),E.is(":disabled")&&b.addClass("disabled"),b.click(function(a){a.preventDefault(),E.triggerHandler("click"),b.is(".disabled")||(E.is(":checked")?(E.prop("checked",!1),b.removeClass("checked")):(E.prop("checked",!0),b.addClass("checked")),E.focus().change())}),E.closest("label").add("label[for=\""+E.attr("id")+"\"]").on("click.styler",function(a){z(a.target).is("a")||z(a.target).closest(b).length||(b.triggerHandler("click"),a.preventDefault())}),E.on("change.styler",function(){E.is(":checked")?b.addClass("checked"):b.removeClass("checked")}).on("keydown.styler",function(a){32==a.which&&b.click()}).on("focus.styler",function(){b.is(".disabled")||b.addClass("focused")}).on("blur.styler",function(){b.removeClass("focused")})};a(),E.on("refresh",function(){E.closest("label").add("label[for=\""+E.attr("id")+"\"]").off(".styler"),E.off(".styler").parent().before(E).remove(),a()})}else if(E.is(":radio")){var d=function(){var a=new B,b=z("<div class=\"jq-radio\"><div class=\"jq-radio__div\"></div></div>").attr({id:a.id,title:a.title}).addClass(a.classes).data(a.data);E.after(b).prependTo(b),E.is(":checked")&&b.addClass("checked"),E.is(":disabled")&&b.addClass("disabled"),z.fn.commonParents=function(){var a=this;return a.first().parents().filter(function(){return z(this).find(a).length===a.length})},z.fn.commonParent=function(){return z(this).commonParents().first()},b.click(function(a){if(a.preventDefault(),E.triggerHandler("click"),!b.is(".disabled")){var c=z("input[name=\""+E.attr("name")+"\"]");c.commonParent().find(c).prop("checked",!1).parent().removeClass("checked"),E.prop("checked",!0).parent().addClass("checked"),E.focus().change()}}),E.closest("label").add("label[for=\""+E.attr("id")+"\"]").on("click.styler",function(a){z(a.target).is("a")||z(a.target).closest(b).length||(b.triggerHandler("click"),a.preventDefault())}),E.on("change.styler",function(){E.parent().addClass("checked")}).on("focus.styler",function(){b.is(".disabled")||b.addClass("focused")}).on("blur.styler",function(){b.removeClass("focused")})};d(),E.on("refresh",function(){E.closest("label").add("label[for=\""+E.attr("id")+"\"]").off(".styler"),E.off(".styler").parent().before(E).remove(),d()})}else if(E.is(":file")){var g=function(){var b=new B,f=E.data("placeholder");void 0===f&&(f=F.filePlaceholder);var e=E.data("browse");void 0!==e&&""!==e||(e=F.fileBrowse);var g=z("<div class=\"jq-file\"><div class=\"jq-file__name\">"+f+"</div><div class=\"jq-file__browse\">"+e+"</div></div>").attr({id:b.id,title:b.title}).addClass(b.classes).data(b.data);E.after(g).appendTo(g),E.is(":disabled")&&g.addClass("disabled");var d=E.val(),h=z("div.jq-file__name",g);d&&h.text(d.replace(/.+[\\\/]/,"")),E.on("change.styler",function(){var a=E.val();if(E.is("[multiple]")){a="";var b=E[0].files.length;if(0<b){var c=E.data("number");void 0===c&&(c=F.fileNumber),c=c.replace("%s",b),a=c}}h.text(a.replace(/.+[\\\/]/,"")),""===a?(h.text(f),g.removeClass("changed")):g.addClass("changed")}).on("focus.styler",function(){g.addClass("focused")}).on("blur.styler",function(){g.removeClass("focused")}).on("click.styler",function(){g.removeClass("focused")})};g(),E.on("refresh",function(){E.off(".styler").parent().before(E).remove(),g()})}else if(E.is("input[type=\"number\"]")){var c=function(){var b=new B,e=z("<div class=\"jq-number\"><div class=\"jq-number__spin minus\"></div><div class=\"jq-number__spin plus\"></div></div>").attr({id:b.id,title:b.title}).addClass(b.classes).data(b.data);E.after(e).prependTo(e).wrap("<div class=\"jq-number__field\"></div>"),E.is(":disabled")&&e.addClass("disabled");var f,g,h,i=null,j=null;void 0!==E.attr("min")&&(f=E.attr("min")),void 0!==E.attr("max")&&(g=E.attr("max")),h=void 0!==E.attr("step")&&z.isNumeric(E.attr("step"))?+E.attr("step"):1;var k=function(a){var b,d=E.val();z.isNumeric(d)||(d=0,E.val("0")),a.is(".minus")?b=+d-h:a.is(".plus")&&(b=+d+h);var e=(h.toString().split(".")[1]||[]).length;if(0<e){for(var i="1";i.length<=e;)i+="0";b=Math.round(b*i)/i}z.isNumeric(f)&&z.isNumeric(g)?b>=f&&b<=g&&E.val(b):z.isNumeric(f)&&!z.isNumeric(g)?b>=f&&E.val(b):!z.isNumeric(f)&&z.isNumeric(g)?b<=g&&E.val(b):E.val(b)};e.is(".disabled")||(e.on("mousedown","div.jq-number__spin",function(){var a=z(this);k(a),i=setTimeout(function(){j=setInterval(function(){k(a)},40)},350)}).on("mouseup mouseout","div.jq-number__spin",function(){clearTimeout(i),clearInterval(j)}).on("mouseup","div.jq-number__spin",function(){E.change().trigger("input")}),E.on("focus.styler",function(){e.addClass("focused")}).on("blur.styler",function(){e.removeClass("focused")}))};c(),E.on("refresh",function(){E.off(".styler").closest(".jq-number").before(E).remove(),c()})}else if(E.is("select")){var h=function(){function m(a){var b=a.prop("scrollHeight")-a.outerHeight(),c=null,d=null;a.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(e){c=0>e.originalEvent.detail||0<e.originalEvent.wheelDelta?1:-1,((d=a.scrollTop())>=b&&0>c||0>=d&&0<c)&&(e.stopPropagation(),e.preventDefault())})}function d(){for(var b=0;b<G.length;b++){var g=G.eq(b),j="",k="",l="",m="",n="",q="",t="",w="",x="";g.prop("selected")&&(k="selected sel"),g.is(":disabled")&&(k="disabled"),g.is(":selected:disabled")&&(k="selected sel disabled"),void 0!==g.attr("id")&&""!==g.attr("id")&&(m=" id=\""+g.attr("id")+F.idSuffix+"\""),void 0!==g.attr("title")&&""!==G.attr("title")&&(n=" title=\""+g.attr("title")+"\""),void 0!==g.attr("class")&&(t=" "+g.attr("class"),x=" data-jqfs-class=\""+g.attr("class")+"\"");var y=g.data();for(var p in y)""!==y[p]&&(q+=" data-"+p+"=\""+y[p]+"\"");""!=k+t&&(l=" class=\""+k+t+"\""),j="<li"+x+q+l+n+m+">"+g.html()+"</li>",g.parent().is("optgroup")&&(void 0!==g.parent().attr("class")&&(w=" "+g.parent().attr("class")),j="<li"+x+q+" class=\""+k+t+" option"+w+"\""+n+m+">"+g.html()+"</li>",g.is(":first-child")&&(j="<li class=\"optgroup"+w+"\">"+g.parent().attr("label")+"</li>"+j)),c+=j}}var G=z("option",E),c="";if(E.is("[multiple]")){if(b||i)return;!function(){var b=new B,e=z("<div class=\"jq-select-multiple jqselect\"></div>").attr({id:b.id,title:b.title}).addClass(b.classes).data(b.data);E.after(e),d(),e.append("<ul>"+c+"</ul>");var g=z("ul",e),i=z("li",e),a=E.attr("size"),f=g.outerHeight(),h=i.outerHeight();void 0!==a&&0<a?g.css({height:h*a}):g.css({height:4*h}),f>e.height()&&(g.css("overflowY","scroll"),m(g),i.filter(".selected").length&&g.scrollTop(g.scrollTop()+i.filter(".selected").position().top)),E.prependTo(e),E.is(":disabled")?(e.addClass("disabled"),G.each(function(){z(this).is(":selected")&&i.eq(z(this).index()).addClass("selected")})):(i.filter(":not(.disabled):not(.optgroup)").click(function(a){E.focus();var b=z(this);if(a.ctrlKey||a.metaKey||b.addClass("selected"),a.shiftKey||b.addClass("first"),a.ctrlKey||a.metaKey||a.shiftKey||b.siblings().removeClass("selected first"),(a.ctrlKey||a.metaKey)&&(b.is(".selected")?b.removeClass("selected first"):b.addClass("selected first"),b.siblings().removeClass("first")),a.shiftKey){var c=!1,d=!1;b.siblings().removeClass("selected").siblings(".first").addClass("selected"),b.prevAll().each(function(){z(this).is(".first")&&(c=!0)}),b.nextAll().each(function(){z(this).is(".first")&&(d=!0)}),c&&b.prevAll().each(function(){return!z(this).is(".selected")&&void z(this).not(".disabled, .optgroup").addClass("selected")}),d&&b.nextAll().each(function(){return!z(this).is(".selected")&&void z(this).not(".disabled, .optgroup").addClass("selected")}),1==i.filter(".selected").length&&b.addClass("first")}G.prop("selected",!1),i.filter(".selected").each(function(){var a=z(this),b=a.index();a.is(".option")&&(b-=a.prevAll(".optgroup").length),G.eq(b).prop("selected",!0)}),E.change()}),G.each(function(a){z(this).data("optionIndex",a)}),E.on("change.styler",function(){i.removeClass("selected");var a=[];G.filter(":selected").each(function(){a.push(z(this).data("optionIndex"))}),i.not(".optgroup").filter(function(b){return-1<z.inArray(b,a)}).addClass("selected")}).on("focus.styler",function(){e.addClass("focused")}).on("blur.styler",function(){e.removeClass("focused")}),f>e.height()&&E.on("keydown.styler",function(a){38!=a.which&&37!=a.which&&33!=a.which||g.scrollTop(g.scrollTop()+i.filter(".selected").position().top-h),40!=a.which&&39!=a.which&&34!=a.which||g.scrollTop(g.scrollTop()+i.filter(".selected:last").position().top-g.innerHeight()+2*h)}))}()}else!function(){var l=new B,a="",n=E.data("placeholder"),o=E.data("search"),r=E.data("search-limit"),s=E.data("search-not-found"),t=E.data("search-placeholder"),J=E.data("smart-positioning");void 0===n&&(n=F.selectPlaceholder),void 0!==o&&""!==o||(o=F.selectSearch),void 0!==r&&""!==r||(r=F.selectSearchLimit),void 0!==s&&""!==s||(s=F.selectSearchNotFound),void 0===t&&(t=F.selectSearchPlaceholder),void 0!==J&&""!==J||(J=F.selectSmartPositioning);var L=z("<div class=\"jq-selectbox jqselect\"><div class=\"jq-selectbox__select\"><div class=\"jq-selectbox__select-text\"></div><div class=\"jq-selectbox__trigger\"><div class=\"jq-selectbox__trigger-arrow\"></div></div></div></div>").attr({id:l.id,title:l.title}).addClass(l.classes).data(l.data);E.after(L).prependTo(L);var b=L.css("z-index");b=0<b?b:1;var Q=z("div.jq-selectbox__select",L),x=z("div.jq-selectbox__select-text",L),y=G.filter(":selected");d(),o&&(a="<div class=\"jq-selectbox__search\"><input type=\"search\" autocomplete=\"off\" placeholder=\""+t+"\"></div><div class=\"jq-selectbox__not-found\">"+s+"</div>");var w=z("<div class=\"jq-selectbox__dropdown\">"+a+"<ul>"+c+"</ul></div>");L.append(w);var q=z("ul",w),R=z("li",w),j=z("input",w),k=z("div.jq-selectbox__not-found",w).hide();R.length<r&&j.parent().hide(),""===G.first().text()&&G.first().is(":selected")&&!1!==n?x.text(n).addClass("placeholder"):x.text(y.text());var S=0,U=0;if(R.css({display:"inline-block"}),R.each(function(){var a=z(this);a.innerWidth()>S&&(S=a.innerWidth(),U=a.width())}),R.css({display:""}),x.is(".placeholder")&&x.width()>S)x.width(x.width());else{var V=L.clone().appendTo("body").width("auto"),P=V.outerWidth();V.remove(),P==L.outerWidth()&&x.width(U)}S>L.width()&&w.width(S),""===G.first().text()&&""!==E.data("placeholder")&&R.first().hide();var H=L.outerHeight(!0),A=j.parent().outerHeight(!0)||0,D=q.css("max-height"),I=R.filter(".selected");if(1>I.length&&R.first().addClass("selected sel"),void 0===R.data("li-height")){var K=R.outerHeight();!1!==n&&(K=R.eq(1).outerHeight()),R.data("li-height",K)}var X=w.css("top");if("auto"==w.css("left")&&w.css({left:0}),"auto"==w.css("top")&&(w.css({top:H}),X=H),w.hide(),I.length&&(G.first().text()!=y.text()&&L.addClass("changed"),L.data("jqfs-class",I.data("jqfs-class")),L.addClass(I.data("jqfs-class"))),E.is(":disabled"))return L.addClass("disabled"),!1;Q.click(function(){if(z("div.jq-selectbox").filter(".opened").length&&F.onSelectClosed.call(z("div.jq-selectbox").filter(".opened")),E.focus(),!i){var c=z(window),d=R.data("li-height"),g=L.offset().top,a=c.height()-H-(g-c.scrollTop()),e=E.data("visible-options");void 0!==e&&""!==e||(e=F.selectVisibleOptions);var l=5*d,o=d*e;0<e&&6>e&&(l=o),0===e&&(o="auto");var p=function(){w.height("auto").css({bottom:"auto",top:X});var b=function(){q.css("max-height",Math.floor((a-20-A)/d)*d)};b(),q.css("max-height",o),"none"!=D&&q.css("max-height",D),a<w.outerHeight()+20&&b()};!0===J||1===J?a>l+A+20?(p(),L.removeClass("dropup").addClass("dropdown")):(function(){w.height("auto").css({top:"auto",bottom:X});var a=function(){q.css("max-height",Math.floor((g-c.scrollTop()-20-A)/d)*d)};a(),q.css("max-height",o),"none"!=D&&q.css("max-height",D),g-c.scrollTop()-20<w.outerHeight()+20&&a()}(),L.removeClass("dropdown").addClass("dropup")):!1===J||0===J?a>l+A+20&&(p(),L.removeClass("dropup").addClass("dropdown")):(w.height("auto").css({bottom:"auto",top:X}),q.css("max-height",o),"none"!=D&&q.css("max-height",D)),L.offset().left+w.outerWidth()>c.width()&&w.css({left:"auto",right:0}),z("div.jqselect").css({zIndex:b-1}).removeClass("opened"),L.css({zIndex:b}),w.is(":hidden")?(z("div.jq-selectbox__dropdown:visible").hide(),w.show(),L.addClass("opened focused"),F.onSelectOpened.call(L)):(w.hide(),L.removeClass("opened dropup dropdown"),z("div.jq-selectbox").filter(".opened").length&&F.onSelectClosed.call(L)),j.length&&(j.val("").keyup(),k.hide(),j.keyup(function(){var a=z(this).val();R.each(function(){z(this).html().match(new RegExp(".*?"+a+".*?","i"))?z(this).show():z(this).hide()}),""===G.first().text()&&""!==E.data("placeholder")&&R.first().hide(),1>R.filter(":visible").length?k.show():k.hide()})),R.filter(".selected").length&&(""===E.val()?q.scrollTop(0):(0!=q.innerHeight()/d%2&&(d/=2),q.scrollTop(q.scrollTop()+R.filter(".selected").position().top-q.innerHeight()/2+d))),m(q)}}),R.hover(function(){z(this).siblings().removeClass("selected")});var Y=R.filter(".selected").text();R.filter(":not(.disabled):not(.optgroup)").click(function(){E.focus();var a=z(this),b=a.text();if(!a.is(".selected")){var c=a.index();c-=a.prevAll(".optgroup").length,a.addClass("selected sel").siblings().removeClass("selected sel"),G.prop("selected",!1).eq(c).prop("selected",!0),Y=b,x.text(b),L.data("jqfs-class")&&L.removeClass(L.data("jqfs-class")),L.data("jqfs-class",a.data("jqfs-class")),L.addClass(a.data("jqfs-class")),E.change()}w.hide(),L.removeClass("opened dropup dropdown"),F.onSelectClosed.call(L)}),w.mouseout(function(){z("li.sel",w).addClass("selected")}),E.on("change.styler",function(){x.text(G.filter(":selected").text()).removeClass("placeholder"),R.removeClass("selected sel").not(".optgroup").eq(E[0].selectedIndex).addClass("selected sel"),G.first().text()==R.filter(".selected").text()?L.removeClass("changed"):L.addClass("changed")}).on("focus.styler",function(){L.addClass("focused"),z("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",function(){L.removeClass("focused")}).on("keydown.styler keyup.styler",function(a){var b=R.data("li-height");""===E.val()?x.text(n).addClass("placeholder"):x.text(G.filter(":selected").text()),R.removeClass("selected sel").not(".optgroup").eq(E[0].selectedIndex).addClass("selected sel"),38!=a.which&&37!=a.which&&33!=a.which&&36!=a.which||(""===E.val()?q.scrollTop(0):q.scrollTop(q.scrollTop()+R.filter(".selected").position().top)),40!=a.which&&39!=a.which&&34!=a.which&&35!=a.which||q.scrollTop(q.scrollTop()+R.filter(".selected").position().top-q.innerHeight()+b),13==a.which&&(a.preventDefault(),w.hide(),L.removeClass("opened dropup dropdown"),F.onSelectClosed.call(L))}).on("keydown.styler",function(a){32==a.which&&(a.preventDefault(),Q.click())}),e.registered||(z(document).on("click",e),e.registered=!0)}()};h(),E.on("refresh",function(){E.off(".styler").parent().before(E).remove(),h()})}else E.is(":reset")&&E.on("click",function(){setTimeout(function(){E.closest("form").find("input, select").trigger("refresh")},1)})},destroy:function destroy(){var a=z(this.element);a.is(":checkbox")||a.is(":radio")?(a.removeData("_styler").off(".styler refresh").removeAttr("style").parent().before(a).remove(),a.closest("label").add("label[for=\""+a.attr("id")+"\"]").off(".styler")):a.is("input[type=\"number\"]")?a.removeData("_styler").off(".styler refresh").closest(".jq-number").before(a).remove():(a.is(":file")||a.is("select"))&&a.removeData("_styler").off(".styler refresh").removeAttr("style").parent().before(a).remove()}},z.fn.styler=function(c){var d=arguments;if(void 0===c||"object"==_typeof(c))return this.each(function(){z.data(this,"_styler")||z.data(this,"_styler",new b(this,c))}).promise().done(function(){var a=z(this[0]).data("_styler");a&&a.options.onFormStyled.call()}),this;if("string"==typeof c&&"_"!==c[0]&&"init"!==c){var e;return this.each(function(){var f=z.data(this,"_styler");f instanceof b&&"function"==typeof f[c]&&(e=f[c].apply(f,Array.prototype.slice.call(d,1)))}),void 0===e?this:e}},e.registered=!1});