$(document).ready(function(){if($('.mobile #chart').is(":visible")){generate_accumulated_profit_line_area_chart('.mobile #chart');}else{generate_accumulated_profit_line_area_chart('#chart');}
function generate_daily_profit_bar_chart(selector){var chart=c3.generate({bindto:selector,data:{x:'x',columns:[['profit']]},axis:{x:{type:'timeseries',tick:{count:4,format:'%Y-%m-%d'}},y:{tick:{format:d3.format(".2f")}}},bar:{width:{ratio:0.1}},grid:{y:{lines:[{value:0}]}},tooltip:{format:{title:function title(d){return $.date(d);},value:function value(_value,ratio,id){var format=id==='data1'?d3.format(','):d3.format('$');return format(_value);}}}});chart.transform('bar');chart.load({url:'https://'+window.location.host+'/engine/function/graph.php?user_id='+$('.profile_page').data('user_id')+'&chart=daily-profit',mimeType:'json'});};function generate_accumulated_profit_line_area_chart(selector){var chart=c3.generate({bindto:selector,data:{x:'x',columns:[['profit']]},axis:{x:{type:'timeseries',tick:{count:4,format:'%Y-%m-%d'}},y:{tick:{format:d3.format(".2f")}}},bar:{width:{ratio:0.1}},grid:{y:{lines:[{value:0}]}},tooltip:{format:{title:function title(d){return $.date(d);},value:function value(_value2,ratio,id){var format=id==='data1'?d3.format(','):d3.format('$');return format(_value2);}}}});chart.transform('area');chart.load({url:'https://'+window.location.host+'/engine/function/graph.php?user_id='+$('.profile_page').data('user_id')+'&chart=accumulated-profit',mimeType:'json'});}
function generate_winrate_pie_chart(selector){var chart=c3.generate({bindto:selector,data:{columns:[],type:'pie'}});chart.load({url:'https://'+window.location.host+'/engine/function/graph.php?user_id='+$('.profile_page').data('user_id')+'&chart=winrate',mimeType:'json'});}
$('body').on('click','#accumulated-profit',function(){if($('.mobile #chart').is(":visible")){generate_accumulated_profit_line_area_chart('.mobile #chart');}else{generate_accumulated_profit_line_area_chart('#chart');}
$('.chart_button > button').removeClass('open__graph_info-top-tab-active');$(this).addClass('open__graph_info-top-tab-active');});$('body').on('click','#daily-profit',function(){if($('.mobile #chart').is(":visible")){generate_daily_profit_bar_chart('.mobile #chart');}else{generate_daily_profit_bar_chart('#chart');}
$('.chart_button > button').removeClass('open__graph_info-top-tab-active');$(this).addClass('open__graph_info-top-tab-active');});$('body').on('click','#winrate',function(){if($('.mobile #chart').is(":visible")){generate_winrate_pie_chart('.mobile #chart');}else{generate_winrate_pie_chart('#chart');}
$('.chart_button > button').removeClass('open__graph_info-top-tab-active');$(this).addClass('open__graph_info-top-tab-active');});$.date=function(dateObject){var d=new Date(dateObject);var day=d.getDate();var month=d.getMonth()+1;var year=d.getFullYear();if(day<10){day='0'+day;}
if(month<10){month='0'+month;}
var date=day+'-'+month+'-'+year;return date;};});